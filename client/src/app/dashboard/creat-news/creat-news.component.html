<div class="main-div bg-light">
    <div class="container">
        <div class="row mx-auto justify-content-center py-5">
            <div class="col-12 p-0">
                <form [formGroup]="newsForm" (ngSubmit)="sendnNews()">
                    <div class="row mx-auto">
                        <div class="col mx-auto bg-white overflow-hidden mainform-container p-0">
                            <div class="row mx-auto">
                                <div
                                    class="col-12 py-2 same_color bottom_shadow d-flex align-items-center justify-content-center first-row">
                                    <i class="fa-solid ms-3 pointer arrow-icon   fa-arrow-left-long"
                                        [routerLink]="['/admin-panel/addNewsList']"></i>
                                    <h1 class="m-0 mx-auto d-flex align-items-center justify-content-center">
                                        <span class="me-2" *ngIf="!singleData">Create</span>
                                        <span class="me-2" *ngIf="singleData">Edit</span>
                                        News
                                    </h1>
                                </div>
                                <div class="col-12 mt-3" *ngIf="errortext!=null">
                                    <div class="alert d-flex align-items-center shadow alert-danger alert-dismissible fade"
                                        [ngClass]="errortext!=null?'show':'notshow'" role="alert">
                                        <strong class="me-2">Somethings Is Wrong!</strong> Please Try Again
                                        <button type="button" class="close ms-auto btn" (click)="errortext=null"
                                            data-dismiss="alert" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                </div>
                                <div class="col-12 my-5">
                                    <div class="row mx-auto">
                                        <div class="col-12 Category-div ">
                                            <div class="row d-flex align-items-center">
                                                <div class="col-3">
                                                    <label class=" label-text">Category</label>
                                                    <span class="star me-2 text-danger">*</span>
                                                </div>
                                                <div class="col pe-0">
                                                    <select class="form-select text-capitalize py-2 px-3"
                                                        aria-label="Default select example" formControlName="catIndex">
                                                        <option value="">Select Category
                                                        </option>
                                                        <option [value]="i"
                                                            *ngFor="let categoryData of categoryArray;let i=index">
                                                            {{categoryData?.categoryName}}
                                                        </option>
                                                    </select>

                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12 mt-4 Category-div">
                                            <div class="row d-flex align-items-center">
                                                <div class="col-3">
                                                    <label class=" label-text">Sub Category</label>
                                                </div>
                                                <div class="col pe-0">
                                                    <select *ngIf="!subCatError"
                                                        class="form-select text-capitalize py-2 px-3"
                                                        aria-label="Default select example"
                                                        formControlName="subCatIndex">
                                                        <option value="">Select Sub Category</option>
                                                        <option [value]="i"
                                                            *ngFor="let subCatData of subCatArray;let i=index">
                                                            {{subCatData?.name}}</option>
                                                    </select>
                                                    <p class="text-danger border_danger rounded-3 p-2 h5 m-0"
                                                        *ngIf="subCatError">
                                                        {{subCatError}}</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12 mt-4 Category-div ">
                                            <div class="row d-flex align-items-center">
                                                <div class="col-3">
                                                    <label class=" label-text">Sub Sub Category</label>
                                                </div>
                                                <div class="col pe-0">
                                                    <select *ngIf="!subSubCatError"
                                                        class="form-select text-capitalize py-2 px-3"
                                                        aria-label="Default select example"
                                                        formControlName="subSubCatIndex">
                                                        <option value="">Select sub sub Category</option>
                                                        <option [value]="i"
                                                            *ngFor="let subSubData of subSubArray;let i=index">
                                                            {{subSubData?.name}}
                                                        </option>
                                                    </select>
                                                    <p class="text-danger border_danger rounded-3 p-2 h5 m-0"
                                                        *ngIf="subSubCatError">
                                                        {{subSubCatError}}</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12 mt-4 Category-div">
                                            <div class="row d-flex align-items-center">
                                                <div class="col-3">
                                                    <label class=" label-text">Nature of News</label>
                                                </div>
                                                <div class="col pe-0">
                                                    <select class="form-select text-capitalize py-2 px-3"
                                                        aria-label="Default select example"
                                                        formControlName="natureNews">
                                                        <option value="">Select Nature of News</option>
                                                        <option [value]="i"
                                                            *ngFor="let NatureData of NatureArray;let i=index">
                                                            {{NatureData?.NatureOfNews}}
                                                        </option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12 mt-4 Category-div ">
                                            <div class="row d-flex align-items-center">
                                                <div class="col-3">
                                                    <label class=" label-text">Heading</label>
                                                </div>
                                                <div class="col pe-0">
                                                    <input type="text" class="form-control" placeholder="Enter Heading"
                                                        id="inputPassword" formControlName="title">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12 mt-4 Category-div ">
                                            <div class="row d-flex align-items-center">
                                                <div class="col-3">
                                                    <label class=" label-text">Subheading</label>
                                                </div>
                                                <div class="col pe-0">
                                                    <input type="text" class="form-control"
                                                        placeholder="Enter Subheading" id="inputPassword"
                                                        formControlName="Subtitle">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12 mt-4 Category-div ">
                                            <div class="row d-flex align-items-center">
                                                <div class="col-3">
                                                    <label class=" label-text">English Heading</label>
                                                    <span class="star me-2 text-danger">*</span>
                                                </div>
                                                <div class="col pe-0">
                                                    <input type="text" (keyup)="suppressNonEng($event)"
                                                        class="form-control" placeholder="Enter Heading"
                                                        id="inputPassword" formControlName="engText">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12 mt-4 Category-div ">
                                            <div class="row d-flex align-items-center">
                                                <div class="col-3">
                                                    <label class=" label-text">Key Words</label>
                                                </div>
                                                <div class="col keyWord_div pe-0">
                                                    <tag-input formControlName="keyWord" placeholder="Enter Keyword"
                                                        (onRemove)="onItemRemoved($event)"
                                                        (onAdd)="onItemAdded($event)">
                                                    </tag-input>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12 mt-4 Category-div ">
                                            <div class="row d-flex align-items-center">
                                                <div class="col-3">
                                                </div>
                                                <div class="col pe-0">
                                                    <div class="d-flex align-items-center">
                                                        <img class="image_div" [src]="imgURL" *ngIf="imgURL" alt="">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12 mt-4 Category-div ">
                                            <div class="row d-flex align-items-center">
                                                <div class="col-3">
                                                    <label class="label-text">Image</label>
                                                </div>
                                                <div class="col pe-0">
                                                    <!-- (click)="compressFile()" -->
                                                    <button type="button"
                                                        class="same_color w-25 d-flex align-items-center btn"
                                                        (click)="openImage()">
                                                        <i class="fa-solid fa-arrow-up-from-bracket"></i>
                                                        <input #file type="file" accept="image/png,image/gif,image/jpeg"
                                                            (change)="preview(file.files)" class="ms-2" />
                                                        <!-- <span class="ms-2">Upload Image</span> -->
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12 mt-4 Category-div ">
                                            <div class="row d-flex align-items-center">
                                                <div class="col-3">
                                                    <label class="label-text">Image Caption</label>
                                                </div>
                                                <div class="col pe-0">
                                                    <div class="d-flex align-items-center">
                                                        <input type="text" class="form-control"
                                                            placeholder="Enter image caption" id="inputPassword"
                                                            formControlName="imageCap">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12 mt-4 Category-div ">
                                            <div class="row d-flex align-items-center">
                                                <div class="col-3">
                                                    <label class="label-text">Editor Name</label>
                                                </div>
                                                <div class="col pe-0">
                                                    <div class="d-flex  align-items-center">
                                                        <input type="text" class="form-control"
                                                            placeholder="Enter Editor name" id="inputPassword"
                                                            formControlName="creatername">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12 mt-4 Category-div ">
                                            <div class="row d-flex">
                                                <div class="col-3">
                                                    <label class=" label-text">Body</label>
                                                </div>
                                                <div class="col-9">
                                                    <div class="row mx-auto ">
                                                        <div class="discription-div px-0 mt-3">
                                                            <div class="form-floating">
                                                                <ckeditor [editor]="Editor" [config]="config"
                                                                    formControlName="newsContext"
                                                                    data="<p>सिद्धि विनायक टाइम्स ब्यूरो | </p>">
                                                                </ckeditor>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12 mt-4 Category-div ">
                                            <div class="row d-flex align-items-center">
                                                <div class="col-3">

                                                </div>
                                                <div class="col-9 p-0">
                                                    <div class="row mx-auto">
                                                        <div class="col">
                                                            <button type="submit" [disabled]="newsForm.invalid"
                                                                (click)="file.value=''"
                                                                class="btn d-flex align-items-center justify-content-center text-dark same_color w-25 px-3 py-2 text-white">
                                                                <div class="text-work" *ngIf="!btnLoader">
                                                                    <span class="text-dark me-2">Submit</span>
                                                                    <i class="bi text-dark bi-send"></i>
                                                                </div>
                                                                <div class="spinner-border text-dark" role="status"
                                                                    *ngIf="btnLoader">
                                                                    <span class="visually-hidden">Loading...</span>
                                                                </div>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- ***loader work*** -->
                                <!-- <div class="loader_body position-relative" *ngIf="loader">
                                    <div class="LOADING">
                                        <div id="loading-bar-spinner" class="spinner">
                                            <div class="spinner-icon"></div>
                                        </div>
                                    </div>
                                    <h4 class="m-0 text_loading ">Loading...</h4>
                                </div> -->
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

</div>